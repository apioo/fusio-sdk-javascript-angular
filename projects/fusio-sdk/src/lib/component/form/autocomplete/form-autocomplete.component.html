
<div class="input-group">
  <input
    type="text"
    [id]="name()"
    [name]="name()"
    [ngModel]="selected()"
    [ngbTypeahead]="objectSearch"
    (focus)="focus$.next($any($event).target.value)"
    [inputFormatter]="objectFormatter"
    [resultFormatter]="objectFormatter"
    [editable]="false"
    (selectItem)="onSelect($event)"
    [disabled]="disabled()"
    (keydown.enter)="enter.emit()"
    placeholder="Type to search ..."
    class="form-control"
  />
  @if (searching()) {
    <button class="btn btn-outline-secondary" [ngClass]="{'btn-outline-danger': searchFailed()}" type="button" disabled>
      <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
      <span class="visually-hidden" role="status">Loading...</span>
    </button>
  }
  <ng-content></ng-content>
</div>
