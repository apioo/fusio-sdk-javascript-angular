
<div class="btn-group" role="group">
  <a [routerLink]="getListLink()" class="btn btn-secondary fusio-btn-back">Back</a>
  <a [routerLink]="getEditLink(selected()?.id)" class="btn btn-primary fusio-btn-update">Update</a>
  <a [routerLink]="getDeleteLink(selected()?.id)" class="btn btn-danger fusio-btn-delete">Delete</a>
</div>
<div class="fusio-detail">
  <div class="row">
    <div class="col-2 fw-bold">Event</div>
    <div class="col-10">{{selected()?.event}}</div>
  </div>
  <div class="row">
    <div class="col-2 fw-bold">Endpoint</div>
    <div class="col-10">{{selected()?.endpoint}}</div>
  </div>
</div>
@if (selected()?.responses) {
  <div class="card" style="margin-top:1rem;">
    <div class="card-header">Responses</div>
    <div class="card-body">
      <table class="table">
        <thead>
        <tr>
          <th>Status</th>
          <th>Code</th>
          <th>Attempts</th>
          <th>Execute-Date</th>
        </tr>
        </thead>
        <tbody>
          @for (response of selected()?.responses; track $index) {
            <tr>
              <td>
                @if (response.status === 1) {
                  <span class="badge bg-info">Pending</span>
                }
                @if (response.status === 2) {
                  <span class="badge bg-success">Done</span>
                }
                @if (response.status === 3) {
                  <span class="badge bg-secondary">Exceeded</span>
                }
              </td>
              <td>{{response.code}}</td>
              <td>{{response.attempts}}</td>
              <td>{{response.executeDate|date:'short'}}</td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
}
