
<div class="fusio-login">
  <div class="fusio-login-panel">
    <header class="text-center bg-light border-bottom">
      @if (logo) {
        <img [src]="'/' + logo" class="m-3">
      }
      @if (title) {
        <h1 class="p-3 m-0 lead">Login</h1>
      }
    </header>
    <div class="fusio-login-panel-body">
      <fusio-message [response]="response()"></fusio-message>
      <form (submit)="login()" novalidate>
        <div class="mb-3">
          <label for="username">Username:</label>
          <input type="text" id="username" name="username" [(ngModel)]="credentials.username" class="form-control">
        </div>
        <div class="mb-3">
          <label for="password">Password:</label>
          <input type="password" id="password" name="password" [(ngModel)]="credentials.password" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary me-2" [disabled]="loading">
          @if (loading) {
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          }
          Login
        </button>
        <span class="float-end" style="font-size:14px;"><a routerLink="/password/reset">Password reset</a></span>
        @if (identityCount() > 0) {
          <div class="me-2">
            <hr>
            <div class="d-grid gap-2">
              @for (identity of identityCollection(); track $index) {
                <a class="btn btn-secondary" [href]="buildUrl(identity)"><i class="bi {{identity.icon}}"></i> {{identity.name}}</a>
              }
            </div>
          </div>
        }
      </form>
    </div>
    <div class="text-end p-2 fw-light bg-light border-top">
      <span class="text-muted" style="font-size:14px;"><a href="https://www.fusio-project.org/">Fusio</a></span>
    </div>
  </div>
</div>
